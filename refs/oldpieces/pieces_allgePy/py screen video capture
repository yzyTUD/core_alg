import cv2
import numpy as np
from PIL import ImageGrab

img = ImageGrab.grab()
out = cv2.VideoWriter('_dataset\out.avi',cv2.VideoWriter_fourcc(*'XVID'), 5, img.size)

while(1):
  img = ImageGrab.grab()
  img_np = np.array(img)
  frame = cv2.cvtColor(img_np, cv2.COLOR_RGB2BGR)
  if img_np.any() != None:
	  out.write(frame)
	  #cv2.imshow("test", frame)
	  print("capturing...")
out.release()
cv2.destroyAllWindows() 