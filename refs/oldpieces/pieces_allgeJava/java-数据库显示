package GUI;

import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextField;
import util.Conn;
import com.mysql.jdbc.Connection;

public class Show {
    public static void main(String[] args) {
    	//new-add
        JFrame jf = new JFrame("显示"); //创建一个窗口
        JPanel jp = new JPanel(); //创建
        JScrollPane sPanel=new JScrollPane();
        sPanel.setPreferredSize(new Dimension(600,200));
        JButton jb = new JButton("显示数据");
        jp.add(jb);
        //final JLabel jl=new JLabel("0");
        //jp.add(jl);
        
        
        
        //logic
        jb.addActionListener(new ActionListener(){
			public void actionPerformed(ActionEvent arg0) {
//				// TODO Auto-generated method stub
//				jl.setText(""+(Integer.parseInt(jl.getText())+1));
				Conn conn=new Conn() ;
				ResultSet rs=Conn.executeQuery("SELECT * FROM book");
				try {
					while(rs.next()){
					    // 通过字段检索
						String usrname  = rs.getString("isbn");
					    String password = rs.getString("title");
					    String address = rs.getString("author");

					    // 输出数
					    System.out.print("" + usrname);
					    System.out.print(",: " + password);
					    System.out.print(",  " + address);
					    System.out.print("\n");
					}
				} catch (SQLException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			}
        });
        
        //set
        jf.add(jp);//将面板放入窗口
        jf.setSize(800, 600);
        //jf.pack(); //自动调节大小
        //jf.setResizable(false);//不能改变窗口的大小
        jf.setLocation(300,200); // 设置初始的位置
        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);//关闭
        jf.setVisible(true); //解决了初始不可见的问题
    }
}