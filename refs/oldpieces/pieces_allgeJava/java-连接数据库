package util;

import java.io.IOException;
import java.sql.*;

public class Conn {
	// JDBC 
    static final String JDBC_DRIVER = "com.mysql.jdbc.Driver";  
    static final String DB_URL = "jdbc:mysql://localhost:3306/library";
    
 // 数据库的用户名密码
    static final String USER = "root";
    static final String PASS = "";
    
   
	public static void main(String args[]) throws IOException, ClassNotFoundException, SQLException{
		
		 Connection conn = null;
		 Statement stmt = null;
		    
		// 注册 JDBC 驱动
        Class.forName("com.mysql.jdbc.Driver");
    
        // 打开链接
        System.out.println("连接数据库...");
        conn = DriverManager.getConnection(DB_URL,USER,PASS);
        
     // 执行查询
        System.out.println(" 实例化Statement对象...");
        stmt = conn.createStatement();
        String sql;
        sql = "SELECT * FROM book";
        ResultSet rs = stmt.executeQuery(sql);
        
        while(rs.next()){
            // 通过字段检索
        	String usrname  = rs.getString("isbn");
            String password = rs.getString("title");
            String address = rs.getString("author");

            // 输出
            System.out.print("" + usrname);
            System.out.print(",: " + password);
            System.out.print(",  " + address);
            System.out.print("\n");
        }
	}
}
