/**
 * 列出指定目录的全部内容
 * */
import java.io.*;
import java.text.SimpleDateFormat;
import java.util.Date;
class Test{
    public static void main(String[] args) throws IOException {
        String fileName = args[0];
        //String fileName = "C://Users//yzy//Desktop//毕业设计";
        File f=new File(fileName);
        //recur_read(f);
        diract_read(f);
    }
    public static void recur_read(File f){
        if(f!=null){
            if(f.isDirectory()){
                File[] fileArray=f.listFiles();
                if(fileArray!=null){
                    for (int i = 0; i < fileArray.length; i++) {
                        //递归调用
                    	recur_read(fileArray[i]);
                    }
                }
            }
            else{
                System.out.println(f);
            }
        }
    }
    public static void diract_read(File f) throws IOException{
        if(f!=null){
            if(f.isDirectory()){
                File[] fileArray=f.listFiles();
                if(fileArray!=null){
                	String str = "" ;
                	//
                	SimpleDateFormat fm = new SimpleDateFormat("yyyy.MM.dd.HHmmss");
                	Date dt = new Date();
                	String filestr = fm.format(dt);
                	BufferedWriter fw=new BufferedWriter(new FileWriter("fileNames"+filestr+".txt"));
                    //将文件名写入文件 TODO:更改排序
                	for (int i = 0; i < fileArray.length; i++) {
                		if(fileArray[i].isDirectory())continue;
                    	fw.write(fileArray[i].getName());
                    	fw.newLine();
                    }
                    fw.close();
                }
            }
            else{
                //System.out.println(f);
            }
        }
    }
}