#include <stdio.h>
#include <io.h>
#include <direct.h>
#include <windows.h>

int main(int argc, char * argv[])
{


	long file;
	struct _finddata_t find;
	_chdir("f:\\俄语拷贝\\教材");

	FILE * nlist = fopen("namelist.txt", "w");
	if ((file = _findfirst("*.pdf", &find)) == -1L)
	{
		printf("空白!\n");
		exit(0);
	}
	printf("%s\n", find.name);
	fprintf(nlist, "%s\n", find.name);
	while (_findnext(file, &find) == 0)
	{
		printf("%s\n", find.name);
		fprintf(nlist, "%s\n", find.name);
	}

	_findclose(file);
	printf("Namelist has been write to File(s)!\n");
	fclose(nlist);
	system("PAUSE");
	return 0;
}
