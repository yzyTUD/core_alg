#include <stdio.h>
#include <io.h>
#include <direct.h>
#include <windows.h>
#include <sys/stat.h>
#include <sys/types.h>

int readFiles(){
	long			file;
	struct _finddata_t	find;
	_chdir("C:\\Users\\yzy\\Documents\\imageData");

	//FILE * nlist = fopen("namelist.txt", "w");
	mkdir("人像", 0777);
	mkdir("信息", 0777);


	file = _findfirst("*.jpg", &find);
	//if ((file = _findfirst("*.jpg", &find)) == -1L)
	//{
	//	printf("空白!\n");
	//	exit(0);
	//}
	//fprintf(nlist, "%s\n", find.name);
	do 
	{
		printf("%s\n", find.name);
		/*添加处理代码
		if(recognize(file)==0)
			char* a = "人像/";
			char dest[100] = "";
			strcpy(dest,a);
			strcat(dest, find.name);
			rename(find.name,dest);
		if(recognize(file)==0)
			char* a = "信息/";
			char dest[100] = "";
			strcpy(dest,a);
			strcat(dest, find.name);
			rename(find.name,dest);
		fprintf(nlist, "%s\n", find.name);*/
	} while (_findnext(file, &find) == 0);

	//

	_findclose(file);
	printf("Namelist has been write to File(s)!\n");
	//fclose(nlist);
	
}

int main(int argc, char * argv[])

{
	readFiles();
	return(0);
}


